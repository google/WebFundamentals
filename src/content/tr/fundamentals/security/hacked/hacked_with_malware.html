<html devsite><head>
  <title>Kötü amaçlı yazılımla saldırıya uğramış</title>
  <meta name="project_path" value="/web/fundamentals/_project.yaml"/>
  <meta name="book_path" value="/web/fundamentals/_book.yaml"/>
</head>
  <body>
<p>Bu adım kötü amaçlı yazılım dağıtmak için saldırıya uğramış ve çoğunlukla arama sonuçlarında
  <em>"Bu site bilgisayarınıza zarar verebilir"</em> uyarısının görüntülendiği sitelerle ilgilidir. Kurtarma işlemindeki
  en uzun adımlardan biridir.  Bu adımda, sitenizde hasar gören dosyaların bir listesini derlersiniz.
  Bu listeyi, ileride
  <a href="clean_site">Sitenizi temizleme ve bakımını yapma</a> adımında kullanacaksınız.</p>
  <p>Siteniz kötü amaçlı yazılımlardan değil spam'dan etkilenmişse ve arama sonuçlarında
  <em>"Bu site saldırıya uğramış olabilir"</em> uyarısıyla birlikte görüntüleniyorsa lütfen
  <a href="hacked_with_spam">Spam hasarını değerlendirme (Spam amaçlı saldırıya uğramış)</a> sayfasına bakın.</p>

    <div class="video-wrapper">
      <iframe class="devsite-embedded-youtube-video" data-video-id="Snt45fZQIiU" data-autohide="1" data-showinfo="0" frameborder="0" allowfullscreen>
      </iframe>
    </div>

<h3>İhtiyacınız olanlar:</h3>
<ul>
  <li>Sitenizin sunucularına kabuk/terminal yönetici erişimi: web, veritabanı, dosyalar.</li>
  <li>Kabuk/terminal komutları bilgisi.</li>
  <li>Veritabanında SQL sorguları çalıştırabilme.</li>
</ul>
<h3>Yapacaklarınız:</h3>

<div class="action">
<p>Bu adımda üç bölüm vardır:</p>
<ul>
  <li><a href="#preparation">Hazırlık</a></li>
  <li><a href="#investigation">Kötü amaçlı yazılım bulaşmasının belirli türlerini araştırma</a></li>
  <li><a href="#assessment">Genel dosya sistemi hasar değerlendirmesi</a></li>
</ul>
</div>

<a name="preparation"></a>
<h3>Hazırlık</h3>
<ol>
  <li>Sitenizdeki sayfaları görüntülemek için tarayıcı kullanmaktan kaçının. Kötü amaçlı yazılımlar
    çoğunlukla tarayıcılardaki güvenlik açıklarını kullanarak yayıldığından, kötü amaçlı yazılımın bulaştığı
    bir sayfayı bir tarayıcıda açmak bilgisayarınıza zarar verebilir.</li>
  <li>Bu adımdaki bulguların kaydedileceği bir doküman oluşturun. Doküman sonuçta (en azından)
    hasar gören her bir dosyanın adını/yerini ve nasıl zarar gördüğüne ilişkin notları içerecek,
    ayrıca <a href="clean_site">Sitenizi temizleme ve bakımını yapma</a> bölümü için
    bir temel oluşturacaktır.</li>
  <li>Gerekirse diğer kaynakları gözden geçirin:
    <ul>
      <li>Kötü amaçlı yazılımların nasıl çalıştığını ve bunları araştırırken nasıl güvende olabileceğinizi öğrenmek için
        yukarıdaki videoyu izleyin.</li>
      <li>Bir sitenin kullanıcılar için zararlı olup olmadığı konusunda
        herkese açık bilgileri görmek için <a href="/safe-browsing/">Google Güvenli
        Tarama teşhis sayfası</a>'nı görüntüleyin. Sitenizin listelenme durumunu aşağıdakine
        benzer bir URL'de görebilirsiniz:
      <pre>http://www.google.com/safebrowsing/diagnostic?site=&lt;your-site&gt;</pre>
      Örneğin:
      <code>http://www.google.com/safebrowsing/diagnostic?site=webmastercentralblog.blogspot.com</code></li>
    </ul>
  </li>
  <li>HTTP istekleri gerçekleştirmek (örneğin, bir sayfayı getirmek) için <a href="https://www.google.com/search?q=cURL">cURL</a> veya
    <a href="https://www.google.com/search?q=Wget">Wget</a>'i kullanın.
    <p>Ücretsiz kullanılabilen bu araçlar yönlendirmeleri teşhis etmeye yardımcı olur ve yönlendiren veya
      kullanıcı aracısı bilgileri ekleme esnekliğine sahiptir. Belirli bir yönlendiren veya kullanıcı aracısı
      eklemek bilgisayar korsanlarını taklit etmeye yardımcı olur, çünkü korsanlar daha fazla sayıda "gerçek kişiyi"
      hedeflemek için sadece belirli kullanıcı aracılarına veya yönlendirenlere sahip kullanıcılara zararlı içerik
      aktarabilirler ve site sahipleri ile kötü amaçlı yazılım tarayıcılarının algılamasından kurtulabilirler.</p>
    <pre>$curl -v --referer "http://www.google.com" &lt;your-url&gt;</pre></li>
</ol>

<a name="investigation"></a>
<h3>Sitenizde belirli kötü amaçlı yazılım bulaşma türlerini araştırma</h3>
<ol>
  <li>Search Console'da doğrulanmış Sitenizi seçin ve ardından, <strong>Güvenlik Sorunları</strong>'nı tıklayın.</li>
  <li> Sitenize ilişkin Güvenlik Sorunları'nda listelenen tüm kötü amaçlı yazılım kategorilerini araştırın
    (ör. Sunucu yapılandırması, SQL yerleştirme). Kategorideki etkilenmiş URL'lerle ilgili ek bilgileri
    “Ayrıntıları göster”i tıklayarak bulabilirsiniz. (Ayrıntılar arasında, bilgisayar korsanı tarafından
    yerleştirilmiş kod snippet'lerinin örnekleri de bulunabilir.) Her kategori için aşağıdakileri araştırma dokümanınıza kopyalayın:
    <ul>
      <li>Güvenlik Sorunları'nın kötü amaçlı yazılım kategorisinde listelenen tüm etkilenmiş URL örnekleri.</li>
      <li>Araştırmanız sırasında ortaya çıkardığınız, hasarlı olan diğer sayfalar.</li>
      <li>Etkilenmiş URL'lerle ilgili ayrıntılı bulgular (neden olunan hasarın türü gibi).</li>
    </ul>
  </li>
  <li>Her kötü amaçlı yazılım türü için araştırmaya yardımcı olabilecek bilgiler aşağıdadır:
    <ul>
      <li><a href="https://www.support.google.com/webmasters/answer/3024318">Sunucu yapılandırma</a></li>
      <li><a href="https://www.support.google.com/webmasters/answer/3024309">SQL yerleştirme</a></li>
      <li><a href="https://www.support.google.com/webmasters/answer/3024381">Hata şablonu</a></li>
      <li><a href="https://www.support.google.com/webmasters/answer/3024344">Kod yerleştirme</a></li>
    </ul>
  </li>
</ol>

<a name="assessment"></a>
<h4>Dosya sistemi hasar değerlendirmesi</h4>
        <div class="video-wrapper">
      <iframe class="devsite-embedded-youtube-video" data-video-id="2A4dLkXXUjo" data-autohide="1" data-showinfo="0" frameborder="0" allowfullscreen>
      </iframe>
    </div>

<p>Ardından, daha ayrıntılı araştırma için sitenizin dosya sistemine giriş yapmanız gerekecektir. Başka şeylerin
  yanı sıra şunlara da dikkat edin: Bilgisayar korsanı varolan sayfaları veya veritabanı kayıtlarını değiştirmiş,
  tamamen yeni ve spam içerikli sayfalar oluşturmuş, temiz sayfalarda spam görüntüleyen işlevler yazmış
  veya sitenize tekrar girmesine ya da silinmediği takdirde zararlı görevler gerçekleştirmeye devam etmesine
  izin veren "arka kapılar" bırakmış olabilir.</p>
<p>Siteniz çevrimiçi ise, bu adımı tamamlamak için tekrar çevrimdışı yapabilirsiniz.</p>
<ol>
  <li>Sitenizin temiz bir yedeğine sahip olduğunuzu düşünüyorsanız, yedekleme yapıldığı andan itibaren
    oluşturulmuş veya değiştirilmiş dosyalar olup olmadığını belirlemeye çalışın. Muhtemelen daha fazla
    araştırma yapmak isteyeceğinizden bu dosyaları listenize ekleyin. Unix tabanlı sistemlerde, şöyle bir komut kullanabilirsiniz:
  <pre>$ diff -qr &lt;current-directory&gt; &lt;backup-directory&gt;</pre>
  Örneğin:
  <pre>$ diff -qr www/ backups/full-backup-20120124/</pre>
  ayrıca
  <pre>$ md5sum &lt;current-page&gt; &lt;backup-page&gt;</pre>
  Örneğin:
  <pre>$ md5sum www/page.html backups/full-backup-20120124/page.html</pre></li>
  <li><strong>Sunucu, erişim ve hata günlüklerinde</strong>, başarısız giriş teşebbüsleri,
    komut geçmişi (özellikle kök olarak), bilinmeyen kullanıcı hesapları oluşturma vb.
    gibi şüpheli etkinlikler olup olmadığını kontrol edin. Bilgisayar korsanının bu günlükleri
    kendi amacı doğrultusunda değiştirmiş olabileceğine dikkat edin.
     (<a href="vulnerability">Güvenlik açığını bulma</a> videosunda yardımcı olabilecek bazı örnekler gösterilmiştir.)</li>
  <li>.htaccess ve httpd.conf gibi <strong>yapılandırma dosyalarında</strong>, yönlendirme URL'lerinin bulunup bulunmadığını kontrol edin.
    Bilgisayar korsanları çoğunlukla kullanıcı aracısına, günün saatine veya yönlendirene bağlı olarak koşullu yönlendirmeler oluştururlar.</li>
  <li>Esnek klasör ve dosya izinleri olup olmadığını da kontrol edin. Bilgisayar korsanları izinlerle oynarlar,
    çünkü esnek izinler site sahibi tarafından anlaşılmadan kalırsa, bilgisayar korsanının
    siteye tekrar girebilmesi için yol sağlar. 644'ten (rw-r--r--) büyük dosyalar ve 755'ten (rwxr-xr-x)
    büyük klasörler güvenlik sorunlarına
    neden olabilir. Esnek izinler varsa, bunların gerçekten gerekli olup olmadığını belirleyin. Unix tabanlı sistemlerde şunu deneyin:
  <pre>$ find &lt;your-dir&gt; -type d -not -perm 755 -exec ls -ld {} \;</pre>
  <pre>$ find &lt;your-dir&gt; -type f -not -perm 644 -exec ls -la {} \;</pre></li>
  <li>Veritabanınız varsa,
    <a href="https://www.phpmyadmin.net/home_page/index.php">phpMyAdmin</a> gibi bir araç kullanarak tek tek her kaydı araştırın.</li>
</ol>

<h2>Sonraki adım</h2>
<p>Süreçte bir sonraki adım <a href="vulnerability">Güvenlik açığını bulma</a> işlemidir.</p>

</body></html>
