---
title: "تحسين أداء الصور"
description: "غالبًا ما تكون الصور مسؤولة عن معظم وحدات بايت التي يتم تنزيلها، كما أنها غالبًا ما تستهلك قدرًا كبيرًا من المساحة الظاهرة على الصفحة."
updated_on: 2014-04-30
key-takeaways:
  use-right-image:
    - استخدم أفضل صورة مع ميزات العرض، وفكر في حجم الشاشة ودقة الجهاز وتنسيق الصفحة.
    - غير العنصر <code>background-image</code> في CSS للحصول على عرض مرتفع نسبة DPI باستخدام استعلامات الوسائط مع <code>min-resolution</code> و<code>-webkit-min-device-pixel-ratio</code>.
    - استخدم  srcset لتوفير صور عالية الدقة بالإضافة إلى صورة 1x في الترميز.
    - فكر جيدًا في تكاليف الأداء عند استخدام تقنيات لاستبدال صورة جافا سكريبت أو عند عرض صور عالية الدقة مضغوطة إلى حد كبير على الأجهزة ذات الدقة الأقل.
  avoid-images:
    - تجنب الصور قدر الإمكان، وجرب بدلاً من ذلك استغلال إمكانيات المتصفح من خلال استخدام أحرف ترميز موحد مكان الصور واستبدل الرموز المعقدة بخطوط رموز.
  optimize-images:
    - احذر الاختيار العشوائي لتنسيق الصورة، واستوعب جيدًا التنسيقات المختلفة المتاحة واستخدم أفضل تنسيق مناسب.
    - ضمِّن أدوات تحسين الصور وضغطها في خطوات العمل لتقليل حجم الملفات.
    - قلل عدد طلبات http من خلال وضع الصور شائعة الاستخدام في نقوش متحركة.
    - جرب تحميل الصور بعد تمريرها في العرض فقط لتحسين وقت التحميل الأول للصور وخفض الوزن الأول للصفحة.
notes:
  compressive:
    - توخ الحذر بشأن الأسلوب المضغوط نظرًا للتكاليف الزائدة التي يتسبب فيها بسبب الذاكرة وإلغاء الترميز.  يعد تغيير حجم الصور الكبيرة لتناسب الشاشات الصغيرة أمرًا مكلفًا وقد يتسبب في إزعاج خاصة على الأجهزة محدودة التكلفة حيث يكون كل من الذاكرة والمعالج محدودين.
related-guides:
  optimize:
  -
      title: "تحسين الصور"
      href: fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer.html#image-optimization
      section:
        id: optimizing-content-efficiency
        title: "تحسين كفاءة المحتوى"
        href: performance/optimizing-content-efficiency/
---

<p class="intro">
  غالبًا ما تكون الصور مسؤولة عن معظم وحدات بايت التي يتم تنزيلها، كما أنها غالبًا ما تستهلك قدرًا كبيرًا من المساحة الظاهرة على الصفحة. ونتيجة لذلك، يمكن أن يؤدي تحسين الصور في الغالب إلى توفير كبير في وحدات بايت وتحسين في الأداء على موقع الويب: ذلك أنه كلما قلت وحدات بايت التي ينزلها المتصفح، قلت المنافسة على معدل نقل البيانات وتمكن المتصفح من تنزيل جميع الأصول وعرضها.
</p>

{% include shared/toc.liquid %}

{% include shared/takeaway.liquid list=page.key-takeaways.optimize-images %}

## اختيار التنسيق المناسب

هناك نوعان من الصور يجب وضعهما في الاعتبار: [الصور المتجهية](http://en.wikipedia.org/wiki/Vector_graphics) و[الصور النقطية](http://en.wikipedia.org/wiki/Raster_graphics). بالنسبة إلى الصور النقطية، يلزمك أيضًا اختيار تنسيق الضغط المناسب، على سبيل المثال: `GIF` و`PNG` و`JPG`.

**الصور النقطية**، مثل الصور الفوتوغرافية والصور الأخرى التي يتم عرضها في شكل شبكة من النقاط الفردية أو وحدات بكسل. عادة ما يكون مصدر الصور النقطية كاميرا أو ماسحة ضوئية ويمكن إنشاؤها في المتصفح باستخدام العنصر `canvas`.  وكلما زاد حجم الصور، زاد حجم الملف.  وعند ضبط حجم الصور النقطية على قيمة أكبر من قيمة الحجم الأصلية، تصبح هذه الصور ضبابية نظرًا لأن المتصفح يحتاج إلى تخمين كيفية ملء وحدات بكسل المفقودة.

**الصور المتجهية**، مثل الشعارات والرسم الخطي، ويتم تحديدها من خلال مجموعة من الانحناءات والخطوط والأشكال وألوان التعبئة. يتم إنشاء الصور المتجهية باستخدام برامج مثل Adobe Illustrator أو Inkscape ويتم حفظها بتنسيق متجهي مثل [`SVG`](http://css-tricks.com/using-svg/).  نظرًا لأنه يتم تصميم الصور المتجهية على عناصر بدائية بسيطة، يمكن ضبطها بدون أية خسائر في الدقة وبدون تغيير في حجم الملف.

وعند اختيار التنسيق المناسب، من الضروري الاهتمام بأصل الصورة (سواء أكانت متجهية أم نقطية)، والمحتوى (سواء أكان ألوانًا أم رسومًا متحركة أم نصوصًا أم غير ذلك). لا يتوفر تنسيق واحد يناسب جميع أنواع الصور، بل لكل ميزاته وعيوبه.

ويمكنك البدء بهذه الإرشادات عند اختيار التنسيق المناسب:

* استخدم `JPG` مع الصور الفوتوغرافية.
* استخدم `SVG` مع الصور المتجهية والرسومات الثابتة الملونة مثل الشعارات والرسم الخطي.
  وإذا لم يكن الرسم المتجهي متاحًا، فجرب استخدام WebP أو PNG.
* استخدم `PNG` وليس `GIF` نظرًا لأن ذلك يوفر مزيدًا من الألوان ونسب ضغط أفضل.
* بالنسبة إلى الرسوم المتحركة الأطول، جرب استخدام `<video>` الذي يوفر جودة صور أفضل ويوفر للمستخدم إمكانية التحكم في التشغيل.

## خفض حجم الملف

يمكن خفض حجم الملف بنسبة كبيرة من خلال `المعالجة التابعة` بعد الحفظ. وهناك عدد من الأدوات المتوفرة لضغط الصور، من خلال ضغط البيانات المنقوص وغير المنقوص وأدوات عبر الإنترنت وواجهة المستخدم التصويرية وسطر الأوامر.  من الأفضل قدر الإمكان محاولة تحسين الصور تلقائيًا بحيث يكون ذلك أهم إجراء في خطوات العمل.

وهناك العديد من الأدوات التي يمكن استخدامها، منها ضغط البيانات غير المنقوص على ملفات `JPG` و`PNG`، بدون تأثر جودة الصورة. بالنسبة إلى `JPG`، جرب [jpegtran](http://jpegclub.org/) أو [jpegoptim](http://freshmeat.net/projects/jpegoptim/) (المتاح على نظام التشغيل Linux فقط؛ مع تشغيل الخيار `تجريد الكل`). بالنسبة إلى `PNG` جرب [OptiPNG](http://optipng.sourceforge.net/) أو [PNGOUT](http://www.advsys.net/ken/util/pngout.htm).

## استخدام النقوش المتحركة

يمكن من خلال أسلوب النقوش المتحركة في CSS الجمع بين عدة صور في صورة تُعرف باسم `ورقة نقوش متحركة`. وبعد ذلك يمكن استخدام الصور الفردية من خلال تحديد صورة الخلفية للعنصر (ورقة النقوش المتحركة) بالإضافة إلى تعويض لعرض الجزء المناسب.

{% link_sample _code/image-sprite.html %}
<img src="img/sprite-sheet.png" class="center" alt="استخدام ورقة النقوش المتحركة في المثال">
{% endlink_sample %}
{% include_code src=_code/image-sprite.html snippet=sprite lang=css %}

تساعد النقوش المتحركة في خفض عدد مرات التنزيل المطلوبة للحصول على عدة صور، بدون تعطيل ذاكرة التخزين المؤقت.

## تجربة التحميل الكسول

يمكن أن يؤدي التحميل الكسول إلى تسريع التحميل على الصفحات الطويلة التي تتضمن العديد من الصور في الجزء غير المرئي من الصفحة من خلال تحميلها عند اللزوم أو بمجرد انتهاء المحتوى الأساسي من التحميل والعرض.  وبالإضافة إلى تحسينات الأداء، يمكن أن يؤدي استخدام التحميل الكسول إلى إنشاء تجارب تمرير لا نهائية.

توخ الحذر عند إنشاء صفحات تمرير لا نهائية، نظرًا لأنه يتم تحميل المحتوى عندما يكون مرئيًا، ولن يظهر هذا المحتوى أبدًا لمحركات البحث.  بالإضافة إلى ذلك، لن يظهر تذييل الصفحة أبدًا للمستخدمين الذين يبحثون عن معلومات يتوقعون ظهورها في تذييل الصفحة نظرًا لأنه يتم تحميل محتوى جديد باستمرار.

{% include shared/related_guides.liquid inline=true list=page.related-guides.optimize %}




