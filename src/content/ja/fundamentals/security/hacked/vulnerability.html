<html devsite><head>
  <title>サイトの脆弱性を特定する</title>
  <meta name="project_path" value="/web/fundamentals/_project.yaml"/>
  <meta name="book_path" value="/web/fundamentals/_book.yaml"/>
<meta name="devsite_continuous_localization_fp" value="jKJxMAAWbeaxWrSkt5T9RzCQ+wwt7IRCyUlOF1mn5e9caMUNwesLeYoX6Z1IYkyCybqRdNPFbA4TsWS5Nsl0oh+Llkq20s4usMW2GDy7U5mKs7g7elS6lCA9R0Pu/Os3"></meta><meta name="devsite_continuous_localization_translatable_html_file_type" value="source"></meta></head>
  <body>
    <p>複数のハッキングが個々に発生していることがあるため、1 つの脆弱性を見つけて修正できた場合でも、他の脆弱性を探し続けることをおすすめします。調査を始めるにあたっては、<a href="/web/fundamentals/security/hacked/top_ways_websites_get_hacked_by_spammers">スパマーがウェブサイトのハッキングでよく利用する手段</a>のガイドをご覧ください。</p>
    <div class="video-wrapper">
      <iframe class="devsite-embedded-youtube-video" allowfullscreen="" data-autohide="1" data-showinfo="0" data-video-id="SpSNvSUpc3k" frameborder="0" l10n-attrs-original-order="class,data-video-id,data-autohide,data-showinfo,frameborder,allowfullscreen">
      </iframe>
    </div>
<h3>必要なもの:</h3>
<ul>
  <li>サイトのサーバー（ウェブ、データベース、ファイル）へのシェル/ターミナルの管理者アクセス権限</li>
  <li>シェル/ターミナル コマンドの知識</li>
  <li>コードの理解（PHP や JavaScript など）</li>
  <li>2 つのウィルス対策スキャナを実行する能力</li>
</ul>
<h3>次の対策:</h3>
<p>サイトが侵害される一般的な手法を複数ご紹介します。以下の脆弱性の中におそらく、ご自分のサイトで該当するものや、他の可能性に気づくきっかけになるものがあります。</p>
<p><strong>脆弱性スキャナ</strong>は<strong>ウイルス対策スキャナ</strong>とは異なります。脆弱性スキャナのほうがサイトに広く侵入し、サイトに思わぬ損害を与える可能性が大きくなります。スキャナを実行する前にサイトのバックアップを行うなど、すべて指示どおりに操作してください。</p>
<p>調査する潜在的な脆弱性は以下のとおりです。</p><h4>1. ウイルスに感染した管理者のパソコン</h4>
<p>管理者のパソコンがウイルスに感染していると、ハッカーがサイト管理者のキー入力を記録するスパイウェアをインストールしているおそれがあります。</p>
<ul>
  <li><strong>管理者のシステムでウイルスの有無を確認します。</strong>管理者がサイトへのログインに使用しているすべてのパソコンで、信頼性の高い複数のウイルス対策スキャナを実行することをおすすめします。しかし、スキャナから逃れるために新しいマルウェアが絶えず設計されているため、この対策は確実なウイルス検出方法とは言えません。ウイルス対策スキャナは誤検出を報告することがあるため、複数のスキャナを実行するほうが、脆弱性の存在を判断するためのデータを確実に得られます。また、念のため、ウェブサーバーと、サイトの更新や投稿に使用しているすべてのデバイスの両方をスキャンすることも検討します。
    <ul>
      <li>ウイルス対策スキャナでスパイウェア、ウイルス、トロイの木馬、その他の疑わしいプログラムが検出された場合は、サイトのサーバーログを調べて、感染したパソコンを所有する管理者のアクティビティを確認します。</li>
      <li>ログファイルがハッカーによって改変されている場合があります。改変されていない場合、ログファイルで管理者のユーザー名と疑わしいコマンドを照合すると、管理者のシステムでウイルスによってサイトの脆弱性が発生したことを示す証拠が得られます。</li>
    </ul>
  </li>
</ul>
<h4>2. 弱いパスワード、パスワードの再利用</h4>
<p>弱いパスワードを破るのはハッカーにとって比較的簡単であり、サーバーへの直接アクセスを許すことになります。強力なパスワードにするには、文字と数字、記号を組み合わせます。辞書にあるような単語やスラングは使わないようにします。1 つのパスワードは 1 つのアプリケーションだけに使用し、ウェブ全般で再利用することは避けます。パスワードを再利用すると、1 つのアプリケーションの 1 つのセキュリティ上の欠陥だけで、ハッカーがログインとパスワードの情報を見つけ出し、他の場所で再利用するのを許すことになります。</p>
<ul>
  <li>サーバーログで、各管理者による複数のログイン試行や予期しないコマンドの使用など、不要なアクティビティがないかどうかを確認します。疑わしいアクティビティがあればその発生日時を書き留めます。ハッキングが最初に行われた時期を把握すると、どのバックアップが正常かを判断しやすくなります。</li>
</ul>
<h4>3. 古い状態のソフトウェア</h4>
<p>サーバーにオペレーティング システム、コンテンツ管理システム、ブログ作成プラットフォーム、アプリケーション、プラグインなどの最新版がインストールされているかどうかを確認します。</p>
<ul>
  <li>インストールしているすべてのソフトウェアについて（ウェブ検索などで）調べて、ご使用のバージョンに関するセキュリティ情報がないかどうか確認します。情報があれば、古い状態のソフトウェアが原因でサイトに脆弱性が発生した可能性が高まります。</li>
  <li>現時点で、古い状態のソフトウェアによる脆弱性の問題がなくても、サーバーのソフトウェアは常に最新の状態に保つことをおすすめします。</li>
</ul>
<h4>4. 寛容なコーディング手法（オープン リダイレクトや SQL インジェクションなど）</h4>
<ul>
  <li><strong>オープン リダイレクト</strong></li>
      <p>オープン リダイレクトとは、ユーザーがサイト上の便利なファイルやウェブページにアクセスできるように、URL 構文に別の URL を追加できるようにするコーディング方法です。次に例を示します。
      </p><pre class="notranslate l10n-notranslate">http://example.com/page.php?url=http://example.com/good-file.pdf</pre>
      ハッカーがサイトのオープン リダイレクトにスパムやマルウェアのページを追加して、オープン リダイレクトを悪用する場合があります。次に例を示します。
      <pre class="notranslate l10n-notranslate">http://example.com/page.php?url=&lt;malware-attack-site&gt;</pre><p></p>
      <ul>
        <li>サイトがオープン リダイレクトによって悪用された場合、Search Console のメッセージに、望まないリンク先へのオープン リダイレクトを含んだ URL の例が表示されることがあります。</li>
        <li>今後、オープン リダイレクトを防ぐために、ソフトウェアのデフォルトで「オープン リダイレクトを許可する」が有効になっているかどうか、コードで外部ドメインへのリダイレクトを禁止できるかどうか、適切にハッシュ化された URL と暗号化署名を含む場合にのみリダイレクトできるようにリダイレクトに署名できるかどうかを検討します。</li>
      </ul>
  <li><strong>SQL インジェクション</strong></li>
     <p>SQL インジェクションは、データベースによって実行されるように、ハッカーが悪質なコマンドをユーザー入力フィールドに指定できる場合に発生します。SQL インジェクションによって、データベースのレコードに不要なスパムやマルウェアのコンテンツを含めるように更新されたり、ハッカー向けに重要なデータが出力にダンプされたりします。サイトでデータベースを使用している場合、特にサイトが <a href="https://www.support.google.com/webmasters/answer/3024309" l10n-encrypted-href="+OYDETMQJEd3sOas2oNyUB49+vOZoUQwC6aMhZuRbfKxD2cxv0gTWNG9+adyExCLuT7OlffLcWfLGaxJF1c73g==">SQL インジェクション</a> タイプのマルウェアに感染していた場合は、SQL インジェクションによって侵害されたおそれがあります。</p>
      <ul>
        <li>データベース サーバーにログインして、データベースに疑わしいコンテンツがないかどうか確認します。たとえば、通常のテキスト フィールドのはずなのに iframe やスクリプトが表示される場合などです。</li>
        <li>疑わしい値がある場合は、ユーザー入力を検証しているかどうか、コードとして実行できないように適切にエスケープまたは強く型付けされているかどうかを確認します。データベースの処理の前にユーザー入力がチェックされない場合、SQL インジェクションがサイトの脆弱性の根本原因となるおそれがあります。</li>
      </ul>
</ul>
<p></p>
<h2>次のステップ</h2>
<p>プロセスの次のステップは、<a href="clean_site">サイトの問題を修正して管理する</a>です。</p>


</body></html>
