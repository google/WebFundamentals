<html devsite><head>
  <title>Znajdź lukę w zabezpieczeniach</title>
  <meta name="project_path" value="/web/fundamentals/_project.yaml"/>
  <meta name="book_path" value="/web/fundamentals/_book.yaml"/>
<meta name="devsite_continuous_localization_fp" value="jKJxMAAWbeaxWrSkt5T9RzCQ+wwt7IRCyUlOF1mn5e9caMUNwesLeYoX6Z1IYkyCybqRdNPFbA4TsWS5Nsl0oh+Llkq20s4usMW2GDy7U5mKs7g7elS6lCA9R0Pu/Os3"></meta><meta name="devsite_continuous_localization_translatable_html_file_type" value="source"></meta></head>
  <body>
    <p>Hakerzy mogli wprowadzić wiele niezależnych zmian w zabezpieczeniach, dlatego nawet jeśli znajdziesz i usuniesz jedną lukę, zalecamy szukanie następnych. Najpierw poczytaj o <a href="/web/fundamentals/security/hacked/top_ways_websites_get_hacked_by_spammers">najczęściej spotykanych atakach spamerskich</a>.</p>
    <div class="video-wrapper">
      <iframe class="devsite-embedded-youtube-video" allowfullscreen="" data-autohide="1" data-showinfo="0" data-video-id="SpSNvSUpc3k" frameborder="0" l10n-attrs-original-order="class,data-video-id,data-autohide,data-showinfo,frameborder,allowfullscreen">
      </iframe>
    </div>
<h3>Czego potrzebujesz:</h3>
<ul>
  <li>dostępu administratora do powłoki lub terminala serwerów witryny: internetowego, bazy danych i plików;</li>
  <li>znajomości poleceń powłoki lub terminala;</li>
  <li>umiejętności czytania kodu (np. PHP lub JavaScript);</li>
  <li>możliwości uruchomienia dwóch skanerów antywirusowych.</li>
</ul>
<h3>Kolejne działania:</h3>
<p>Omówimy kilka typowych sposobów przejęcia witryny. Być może wykorzystywane w nich luki w zabezpieczeniach występują w Twojej witrynie lub naprowadzą Cię na właściwy trop.</p>
<p>Pamiętaj, że <strong>skanery luk w zabezpieczeniach</strong> różnią się od <strong>skanerów antywirusowych</strong>. Te pierwsze są znacznie bardziej inwazyjne i łatwiej mogą spowodować nieoczekiwane szkody w witrynie. Przed uruchomieniem skanera postępuj zgodnie ze wszystkimi wskazówkami, również tymi, które mówią o utworzeniu kopii zapasowej witryny.</p>
<p>Możliwe luki w zabezpieczeniach, które trzeba zbadać:
</p><h4>1. Komputer administratora zainfekowany wirusem</h4>
<p>Na zainfekowanym przez wirusa komputerze administratora haker mógł zainstalować program szpiegowski, by rejestrować klawisze, które naciska administrator witryny.</p>
<ul>
  <li><strong>Poszukaj wirusów na komputerach administratora. </strong>Zalecamy użycie kilku uznanych skanerów antywirusowych na każdym komputerze, z którego administrator loguje się do witryny. Stale powstają nowe wersje złośliwego oprogramowania, które mają jak najlepiej ukrywać się przed skanerami, dlatego skanowanie nie daje stuprocentowej pewności, że komputer nie jest zainfekowany. Oprócz tego skanery antywirusowe mogą zgłaszać fałszywe alarmy, dlatego warto wykorzystać kilka z nich, by uzyskać więcej danych, które potwierdzą lub wykluczą istnienie luki w zabezpieczeniach. Na wszelki wypadek przeskanuj też serwer internetowy i wszystkie urządzenia używane do aktualizowania witryny lub publikowania w niej treści.
    <ul>
      <li>Jeśli skaner antywirusowy wykryje program szpiegowski, wirusa, konia trojańskiego lub inne podejrzane oprogramowanie, przejrzyj dzienniki serwera witryny w poszukiwaniu informacji o aktywności administratora, do którego należy zainfekowany komputer.</li>
      <li>Haker mógł zmienić pliki dzienników. Jeśli tego nie zrobił, zestawienie nazwy administratora z podejrzanymi poleceniami w pliku dziennika to dodatkowy dowód, że wirus na komputerze administratora pozwolił zaatakować witrynę.</li>
    </ul>
  </li>
</ul>
<h4>2. Słabe lub wielokrotnie używane hasła</h4>
<p>Hakerzy zwykle bez trudu łamią słabe hasła, uzyskując w ten sposób bezpośredni dostęp do serwera. Silne hasła są kombinacją liter, cyfr i znaków interpunkcyjnych oraz nie zawierają słów ze słownika ani mowy potocznej. Określone hasło należy stosować tylko w jednej aplikacji zamiast wielokrotnie wykorzystywać je w internecie. Jeśli tego samego hasła używasz w wielu miejscach, haker musi pokonać zabezpieczenia zaledwie jednej aplikacji, by poznać Twój login i hasło. Wówczas od razu uzyska też dostęp do Twoich innych kont.</p>
<ul>
  <li>W dzienniku serwera poszukaj niepożądanej aktywności, np. wielokrotnych prób zalogowania się jako administrator czy nietypowych poleceń uruchamianych przez administratora. Zanotuj datę i godzinę podejrzanej aktywności – jeśli ustalisz, kiedy haker rozpoczął atak, będziesz wiedzieć, które kopie zapasowe witryny są nienaruszone.</li>
</ul>
<h4>3. Nieaktualne oprogramowanie</h4>
<p>Sprawdź, czy na serwerach działają najnowsze wersje systemu operacyjnego, systemu zarządzania treścią, platformy blogowej, aplikacji, wtyczek itp.</p>
<ul>
  <li>Poszukaj informacji (możesz to zrobić w wyszukiwarce Google) o tym, czy w zainstalowanych wersjach oprogramowania występują jakieś problemy z bezpieczeństwem. Jeśli tak, haker prawdopodobnie wykorzystał lukę w nieaktualnym oprogramowaniu.</li>
  <li>Niezależnie od tego, czy nieaktualne oprogramowanie serwerów przyczyniło się do ataku, zawsze najlepiej na bieżąco je aktualizować.</li>
</ul>
<h4>4. Słabo zabezpieczone rozwiązania programistyczne, np. otwarte przekierowania i wstrzykiwanie SQL</h4>
<ul>
  <li><strong>Otwarte przekierowania</strong></li>
      <p>Otwarte przekierowania w strukturze adresów URL pozwalają dodać kolejny adres, dzięki czemu użytkownicy mogą dotrzeć do przydatnego pliku lub strony internetowej w witrynie. Na przykład:
      </p><pre class="notranslate l10n-notranslate">http://example.com/page.php?url=http://example.com/good-file.pdf</pre>
      Hakerzy mogą nadużywać tej funkcji, dodając strony ze spamem lub złośliwym oprogramowaniem do otwartego przekierowania w witrynie, podobnie jak tutaj:
      <pre class="notranslate l10n-notranslate">http://example.com/page.php?url=&lt;malware-attack-site&gt;</pre><p></p>
      <ul>
        <li>Jeśli ktoś nadużywa otwartych przekierowań w witrynie, w Search Console powinna pojawić się wiadomość z przykładowymi adresami URL, które zawierają otwarte przekierowanie do niepożądanej strony docelowej.</li>
        <li>Aby zapobiec takim sytuacjom w przyszłości, sprawdź, czy opcja „zezwalaj na otwarte przekierowania” jest domyślnie włączona w oprogramowaniu, czy stosowany kod może blokować przekierowania poza domenę oraz czy możesz dodać podpis do przekierowania, tak by wykonywać tylko te z poprawnym skrótem adresu URL i podpisem kryptograficznym.</li>
      </ul>
  <li><strong>Wstrzykiwanie SQL</strong></li>
     <p>Wstrzykiwanie SQL polega na tym, że haker dodaje szkodliwe polecenia do pól, w których użytkownicy wpisują dane przetwarzane w bazie danych. W ten sposób może on umieścić spam czy złośliwe oprogramowanie w rekordach bazy danych lub pobrać z niej cenne dane. Jeśli witryna korzysta z bazy danych, możliwe, że została przejęta dzięki <a href="https://www.support.google.com/webmasters/answer/3024309" l10n-encrypted-href="+OYDETMQJEd3sOas2oNyUB49+vOZoUQwC6aMhZuRbfKxD2cxv0gTWNG9+adyExCLuT7OlffLcWfLGaxJF1c73g==">wstrzykiwaniu SQL</a> – zwłaszcza wtedy, gdy zainfekowano ją złośliwym oprogramowaniem typu wstrzyknięty SQL.</p>
      <ul>
        <li>Zaloguj się na serwer bazy danych i poszukaj w niej podejrzanych treści, np. elementów iframe i skryptów w zwykłych polach tekstowych.</li>
        <li>Po wykryciu podejrzanych wartości upewnij się, że dane wpisywane przez użytkowników są weryfikowane i mają prawidłowo zmieniane znaczenie lub obowiązuje w nich typowanie silne, tak by nie mogły być wykonywane jako kod. Jeśli nie są one sprawdzane przed przetworzeniem w bazie danych, główną luką w zabezpieczeniach witryny może być wstrzykiwanie SQL.</li>
      </ul>
</ul>
<p></p>
<h2>Kolejny etap</h2>
<p>Kolejny etap procesu – <a href="clean_site">Oczyść i zabezpiecz witrynę</a>.</p>


</body></html>
