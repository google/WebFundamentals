project_path: /web/_project.yaml
book_path: /web/fundamentals/_book.yaml

{# wf_updated_on: 2015-03-26 #}
{# wf_published_on: 2000-01-01 #}

# Вопросы миграции {: .page-title }

{% include "web/_shared/contributors/chrispalmer.html" %}
{% include "web/_shared/contributors/mattgaunt.html" %}


В этом разделе рассматриваются вопросы о переходе на HTTPS, которые могут возникнуть у операторов.


## Поисковый рейтинг

[Google рассматривает использование HTTPS как один из показателей положительного
 качества сайта при указании его в результатах поиска](https://googlewebmastercentral.blogspot.com/2014/08/https-as-ranking-signal.html).
Также Google предлагает ознакомиться с руководством [по переносу, перемещению или миграции 
сайта](https://support.google.com/webmasters/topic/6029673) с сохранением его
 поискового рейтинга. [Аналогичные инструкции для 
веб-мастеров](http://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a) предлагает и Bing.

## Производительность

Когда работа над слоями контента и приложений завершена (прекрасные рекомендации по этому вопросу изложены в [руководствах Стива 
Саудерса](https://stevesouders.com/){: .external }), остается 
такая мелочь по сравнению с общими затратами на приложение
, как настройка производительности TLS. Кроме того, у вас есть возможность сократить эти затраты и даже полностью избавиться от них. (Отличные 
советы по поводу оптимизации TLS и не только предлагаются в книге _[High Performance Browser
Networking](http://chimera.labs.oreilly.com/books/1230000000545)_[ Ильи
Григорика](http://chimera.labs.oreilly.com/books/1230000000545).) Также рекомендуем ознакомиться с книгами
 _[OpenSSL
Cookbook](https://www.feistyduck.com/books/openssl-cookbook/)_ и _[Bulletproof
SSL And TLS](https://www.feistyduck.com/books/bulletproof-ssl-and-tls/)_ Айвана Ристика.

В некоторых случаях _повысить_ производительность TLS можно в основном за счет реализации возможностей 
HTTP/2. Об этом говорил Крис Палмер [в своем выступлении, посвященном производительности HTTPS и HTTP/2, на саммите разработчиков Chrome 
2014](/web/shows/cds/2014/tls-all-the-things).

## Заголовки источников ссылок

При переходе пользователей по ссылкам на другие 
сайты HTTP, которые имеются на вашем сайте HTTPS, агенты пользователей не передают заголовок источника ссылки. Если это нежелательно, существует несколько 
способов исправить ситуацию.

* Другим сайтам следует перейти на HTTPS. В таком случае владельцам сайтов будет полезно ознакомиться с этим 
руководством! :) Если владелец сайта, на который имеется ссылка, выполнит инструкции из раздела данного руководства "Включение HTTPS на ваших серверах", вы можете изменить на своем сайте формат
 ссылок на другие сайты (поменять http://  на https://) или воспользоваться ссылками 
на основе протокола.
* Можно воспользоваться новым [стандартом политики в отношении источников 
ссылок](http://www.w3.org/TR/referrer-policy/#referrer-policy-delivery-meta)
, чтобы обойти различные проблемы, связанные с заголовками источников ссылок.

Поскольку поисковые системы переходят на HTTPS, не исключено, что к моменту, когда вы перейдете на HTTPS,
заголовков источников ссылок будет _больше_, чем сейчас.

<blockquote>Клиентам НЕ СЛЕДУЕТ включать поле заголовка источника ссылки в запросы HTTP (по незащищенному протоколу), если для передачи страницы с исходной ссылкой использовался защищенный протокол.<p><a href="https://tools.ietf.org/html/rfc2616#section-15.1.3">В соответствии с требованиями стандарта RFC для HTTP</a></p></blockquote>

## Доход от рекламы

Операторы сайтов, получающие доход от рекламы, размещенной на своих сайтах, хотят убедиться, что 
переход на HTTPS не скажется негативно на показах рекламы. Однако ввиду требований к безопасности смешанного контента 
элементы iframe HTTP блокируются на странице HTTPS. Это довольно 
щекотливый вопрос, требующий коллективных усилий: до тех пор, пока рекламодатели не начнут использовать протокол HTTPS,
 операторы сайтов не смогут перейти на HTTPS без потери доходов от рекламы; с другой стороны, до тех пор, пока
 операторы сайтов не перейдут на HTTPS, рекламодатели не видят большой заинтересованности в этом протоколе.

Рекламодатели как минимум должны предлагать услуги по рекламе по протоколу HTTPS (например, выполнив инструкции из 
раздела данного руководства "Включение HTTPS на ваших серверах"). Многие уже так и делают. Рекламодателям, которые вообще не используют
 HTTPS, следует предложить сделать хотя бы первые шаги на пути к этому. Вы можете отложить выполнение инструкций, приведенных в разделе данного руководства "Создание относительных внутрисайтовых URL-адресов",
 пока на использование протокола HTTPS не перейдет достаточное количество рекламодателей.

