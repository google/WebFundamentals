<html devsite><head>
  <title>Выявление уязвимостей</title>
  <meta name="project_path" value="/web/fundamentals/_project.yaml"/>
  <meta name="book_path" value="/web/fundamentals/_book.yaml"/>
<meta name="devsite_continuous_localization_fp" value="jKJxMAAWbeaxWrSkt5T9RzCQ+wwt7IRCyUlOF1mn5e9caMUNwesLeYoX6Z1IYkyCybqRdNPFbA4TsWS5Nsl0oh+Llkq20s4usMW2GDy7U5mKs7g7elS6lCA9R0Pu/Os3"></meta><meta name="devsite_continuous_localization_translatable_html_file_type" value="source"></meta></head>
  <body>
    <p>Поскольку один и тот же сайт может подвергнуться нескольким атакам, мы рекомендуем не ограничиваться устранением первой найденной уязвимости, а проверить его на все остальные. Наиболее распространенные способы взлома сайтов описаны в <a href="/web/fundamentals/security/hacked/top_ways_websites_get_hacked_by_spammers">этой статье</a>.</p>
    <div class="video-wrapper">
      <iframe class="devsite-embedded-youtube-video" allowfullscreen="" data-autohide="1" data-showinfo="0" data-video-id="SpSNvSUpc3k" frameborder="0" l10n-attrs-original-order="class,data-video-id,data-autohide,data-showinfo,frameborder,allowfullscreen">
      </iframe>
    </div>
<h3>Необходимые условия</h3>
<ul>
  <li>Доступ к серверу сайта (веб-серверу, базе данных и файловой системе) через терминал или оболочку с правами администратора.</li>
  <li>Знание команд оболочки или терминала.</li>
  <li>Понимание кода (например, PHP или JavaScript).</li>
  <li>Возможность проверить сайт двумя антивирусными программами.</li>
</ul>
<h3>Дальнейшие действия</h3>
<p>Далее рассмотрим распространенные способы взлома сайтов. Надеемся, что наши примеры окажутся полезны вам и помогут понять, где искать следы злоумышленников.</p>
<p>Помните, что <strong>сканеры уязвимостей</strong> отличаются от <strong>антивирусных программ</strong> тем, что работают на более низком уровне и могут причинить ущерб сайту. Прежде чем использовать сканер уязвимостей, примите меры предосторожности, например создайте резервную копию сайта.</p>
<p>На этом шаге необходимо исследовать все указанные ниже уязвимости.
</p><h4>1. Компьютер администратора заражен вирусом</h4>
<p>Если компьютер администратора заражен вирусом, хакер мог установить на него шпионское ПО для записи нажатий клавиш.</p>
<ul>
  <li><strong>Проверьте компьютеры администратора на вирусы. </strong>Рекомендуем просканировать все компьютеры, с которых администратор входил на сайт, с помощью нескольких надежных антивирусных программ. Поскольку создатели вредоносного ПО постоянно совершенствуют механизмы ухода от обнаружения, этот способ не гарантирует выявление всех вирусов. Кроме того, у антивирусных программ бывают ложные срабатывания. Поэтому только использование нескольких таких программ поможет точнее определить наличие уязвимости. Также проверьте на вирусы веб-сервер и все устройства, с которых вы работали с сайтом.
    <ul>
      <li>Если антивирусная программа обнаружит шпионское ПО, вирус, троянскую или любую другую подозрительную программу, проверьте журналы сервера на предмет подозрительных действий от имени администратора, которому принадлежит зараженный компьютер.</li>
      <li>Помните, что хакер мог изменить файлы журнала. Если он этого не сделал, то подозрительные действия от имени администратора будут прямым доказательством того, что причиной взлома стало вредоносное ПО на компьютере веб-мастера.</li>
    </ul>
  </li>
</ul>
<h4>2. Простые или повторяющиеся пароли</h4>
<p>Если вы используете простой пароль, хакеры могут относительно легко взломать его и получить прямой доступ к серверу. Сложные пароли состоят из букв, цифр и знаков препинания, а также не содержат слов из любого словаря. Для каждого сервиса нужно придумывать отдельный пароль, а не использовать один на все случаи жизни. В противном случае, взломав одно приложение или сервис, хакер сможет получить доступ к остальным вашим аккаунтам.</p>
<ul>
  <li>Проверьте журнал сервера на предмет подозрительных действий: возможно, администратор несколько раз подряд неудачно пытался войти в систему или выполнял странные команды. Запишите в журнал расследования, когда происходили подозрительные действия. Это поможет косвенно определить, какие резервные копии могут быть чистыми.</li>
</ul>
<h4>3. Устаревшее ПО</h4>
<p>Проверьте, установлена ли на сервере последняя версия операционной системы, системы управления контентом, блог-платформы, приложений, плагинов и т. д.</p>
<ul>
  <li>Проверьте (через поиск), были ли выпущены для установленного ПО рекомендуемые обновления системы безопасности. Если да, то вполне вероятно, что хакеры воспользовались уязвимостями в старых версиях ПО.</li>
  <li>Настоятельно рекомендуем обновлять все программное обеспечение до последних версий, даже если разработчики не сообщали об уязвимостях в используемых версиях.</li>
</ul>
<h4>4. Излишние разрешения, например открытая переадресация и отсутствие проверки запросов SQL</h4>
<ul>
  <li><strong>Открытая переадресация</strong></li>
      <p>Часто открытая переадресация настраивается на сайте, чтобы направить пользователя на нужную страницу или к нужному файлу на сайте. Пример:
      </p><pre class="notranslate l10n-notranslate">http://example.com/page.php?url=http://example.com/good-file.pdf</pre>
      Хакеры часто используют открытую переадресацию, подставляя в нее свои страницы со спамом или вредоносным ПО. Например:
      <pre class="notranslate l10n-notranslate">http://example.com/page.php?url=&lt;malware-attack-site&gt;</pre><p></p>
      <ul>
        <li>Если хакер использовал открытую переадресацию, это можно проследить по примерам URL в Search Console, которые будут вести на сомнительные страницы.</li>
        <li>Чтобы предотвратить открытую переадресацию, проверьте, не включена ли она по умолчанию в вашем ПО, запретите переадресацию на другие домены или разрешите ее только тем пользователям, у которых есть правильный хеш URL и криптографическая подпись.</li>
      </ul>
  <li><strong>Внедрение с помощью запроса SQL</strong></li>
     <p>Внедрения через запрос SQL происходят, когда хакеру удается выполнить свою команду в базе данных, указав особые значения в полях для ввода данных на сайте. При успешной атаке хакер может добавить на ваш сайт спам или вредоносное ПО либо скачать ценную информацию. Если на вашем сайте используется база данных, а в Search Console отображается предупреждение о <a href="https://www.support.google.com/webmasters/answer/3024309" l10n-encrypted-href="+OYDETMQJEd3sOas2oNyUB49+vOZoUQwC6aMhZuRbfKxD2cxv0gTWNG9+adyExCLuT7OlffLcWfLGaxJF1c73g==">внедрении с помощью запроса SQL</a>, вполне вероятно, что именно эту уязвимость использовал хакер.</p>
      <ul>
        <li>Войдите в базу данных на сервере и проверьте ее на предмет подозрительных записей, например окон iframe или скриптов в текстовых полях.</li>
        <li>Настройте проверку вводимых пользователями данных на опасные символы, экранируйте их или используйте строгие типы, чтобы избежать выполнения кода. Если не проверять вводимые данные до передачи в базу данных, высока вероятность внедрения через запрос SQL.</li>
      </ul>
</ul>
<p></p>
<h2>Следующий этап</h2>
<p>Теперь необходимо <a href="clean_site">устранить все проблемы и выработать стратегию защиты сайта</a>.</p>


</body></html>
