<html devsite><head>
  <title>Correção da invasão de conteúdo sem sentido</title>
  <meta name="project_path" value="/web/fundamentals/_project.yaml"/>
  <meta name="book_path" value="/web/fundamentals/_book.yaml"/>
<meta name="devsite_continuous_localization_fp" value="wDLboSHSoOEqXBonRWn8UvxANYcQNA3KoE+YsYU0AtWHaYTDuDS8VMrRRGtvrq7FMcXWQdN5Hd3JAPNLQcUKrrvzQu5oWkLB+fiCoJN0cmrFt8cYhV7gL+hr3agSW6ztGwMwktYT4qx+ixSxJY26fg=="></meta><meta name="devsite_continuous_localization_translatable_html_file_type" value="source"></meta></head>
<body>

<p>Este guia foi criado especificamente para um tipo de invasão que adiciona páginas com conteúdo sem sentido e cheias de palavras-chave ao site, a qual chamamos de invasão com conteúdo sem sentido. Este guia foi projetado para usuários dos <a href="https://pt.wikipedia.org/wiki/Sistema_de_gerenciamento_de_conte%C3%BAdo" l10n-encrypted-href="fDAavPipNi3L7oKW173OnAOrZfK8qSBsW73e1nANJzBUmOWztsjdEWYvTckdpiUrlx3KV5JDmfAX78Sj/1rTByEHYmzohOA6JH22pQy1iU4=">Sistemas de gerenciamento de conteúdo mais conhecidos</a> (CMS, na sigla em inglês), mas será útil mesmo se você não usar um CMS.</p>

<p><strong>Observação:</strong> você não tem certeza se o site foi invadido? Comece com a leitura do guia sobre <a href="/web/fundamentals/hacked/how_do_I_know_if_site_hacked">como verificar se o site foi invadido</a>.</p>

<aside class="note">Esperamos que este guia seja realmente útil para você. <a href="https://docs.google.com/a/google.com/forms/d/12iF45BaZuEgwn29A7DOW73rd1Hi_7NiAHCFWB3zMu0U/viewform" l10n-encrypted-href="Y8CvmyoECzXwls/oZTNUPel6/rzBFIuQf3sSK+uodQZOqpR94XBJ+XibPywvk0+b9ezSGKvhi8xxpIK7uGXOCI2dMR8PtqMn9qLJh3QQBiqDN7SHduMZkPeGTm9uywje4+7KYcijq55wcC/P3SGriA==">Deixe seu feedback</a> para nos ajudar a melhorar!</aside>

<h2>Índice</h2>

<ul>
<p></p><li><a href="#identifying" l10n-encrypted-href="i8ndmVX5d0ID8O9zoenvuw==">Etapa 1: como identificar esse tipo de invasão</a></li><p></p>
<p></p><li><a href="#fixing" l10n-encrypted-href="E7jyI6Rsf8GvIQvlRXlhig==">Etapa 2: como corrigir a invasão</a></li><p></p>
<p></p><li><a href="#resources" l10n-encrypted-href="thupmU05Hk4T+qZrFSNMSw==">Etapa 3: outros recursos</a></li><p></p>
<p></p><li><a href="/web/fundamentals/hacked/FAQs_for_hacked_sites">Perguntas frequentes sobre sites invadidos</a></li><p></p>
</ul>

<a name="identifying"></a>
<h2>Como identificar esse tipo de invasão</h2>

<p>A invasão com conteúdo sem sentido cria automaticamente várias páginas com frases sem sentido e cheias de palavras-chave no seu site. Essas páginas não foram criadas por você, mas têm URLs que podem convencer os usuários a clicarem neles. Os hackers fazem isso para que as páginas invadidas apareçam na Pesquisa Google. Então, se as pessoas tentarem acessar uma dessas páginas, elas serão redirecionadas para uma página não relacionada, como um site pornográfico.
  Os hackers ganham dinheiro quando as pessoas visitam essas páginas não relacionadas. Veja alguns exemplos do tipo de arquivo que você poderá ver em um site afetado pela invasão de conteúdo sem sentido:</p>

  <ul>
    <li>www.example.com/cheap-hair-styles-cool.html</li>
    <li>www.example.com/free-pictures-fun.html</li>
    <li>www.example.com/nice-song-download-file.php</li>
   </ul>

<p>Às vezes, eles aparecem em uma pasta composta por caracteres aleatórios e com idiomas diferentes:</p>

   <ul>
   <li>www.example.com/jfwoea/cheap-hair-styles-cool.html</li>
   <li>www.example.com/jfwoea/free-pictures-fun.html</li>
   <li>www.example.com/jfwoea/www-ki-motn-dudh-photo.php</li>
   <li>www.example.com/jfwoea/foto-cewe-zaman-sekarang.php</li>
   </ul>

<p>Comece pela verificação da ferramenta <a href="https://www.google.com/webmasters/tools/security-issues" l10n-encrypted-href="wFaZwKx/FqCH4eQvAdZWPgSJUyK0ahq5p2Xo+yKO2LDoa3a6ko9L8TWTgkY4BqOep2DEtUsCy0Ve7mU772iG0Q==">Problemas de segurança</a> no Search Console para ver se o Google descobriu alguma dessas páginas invadidas no site. Às vezes, também é possível descobrir páginas como essas ao abrir uma janela da Pesquisa Google e digitar <code class="notranslate l10n-notranslate">site:<i>your site url</i></code>, com o URL do nível da raiz do seu site. Isso mostrará as páginas do seu site que o Google indexou, incluindo as páginas invadidas. Confira algumas páginas dos resultados da pesquisa para ver se você consegue identificar URLs incomuns. Caso não encontre conteúdo invadido na Pesquisa Google, use os mesmos termos de pesquisa em um mecanismo de pesquisa diferente. Veja abaixo um exemplo disso.</p>


<img src="/web/fundamentals/security/hacked/images/GibberishKeywordHackExampleSearch.png" style="padding:0px 25px">

<div class="tip">Os resultados da pesquisa contêm várias páginas que não foram criadas pelo proprietário do site. Se você ler com atenção as descrições, verá exemplos do texto sem sentido criado por essa invasão.</div>

<p>Normalmente, ao clicar em um link para uma página invadida, você é redirecionado para outro site ou vê uma página cheia de conteúdo sem sentido. No entanto, talvez você encontre uma mensagem informando que a página não existe (por exemplo, um erro 404). Não se deixe enganar! Os hackers tentarão fazer com que você acredite que a página saiu do ar ou foi corrigida, mas ela ainda está invadida. Eles fazem isso com <a href="/webmasters/answer/66355" l10n-encrypted-href="uDM31iN8CLdSvuKmuk5DvFAVB44doULc4CE9XvK9iII=">técnicas de cloaking</a> de conteúdo. Verifique se há técnicas de cloaking inserindo os URLs do site na ferramenta <a href="https://www.google.com/webmasters/tools/googlebot-fetch" l10n-encrypted-href="wFaZwKx/FqCH4eQvAdZWPgSJUyK0ahq5p2Xo+yKO2LAiz85uaQL1OSHmh9ZlIHN5PBF3nzIP4FICVwj1Kz6IHg==">Fetch as Google</a>. Com a ferramenta Fetch as Google, você pode ver o conteúdo escondido subjacente. </p>

<p>Se você vir esses problemas, seu site provavelmente foi afetado por esse tipo de invasão.</p>

<a name="fixing"></a>
<h2>Como corrigir a invasão</h2>

<p>Faça uma cópia off-line dos arquivos que quer remover, caso precise restaurá-los mais tarde. Ou então, faça backup do site inteiro antes de iniciar o processo de limpeza.
  É possível fazer isso salvando off-line todos os arquivos de seu servidor ou procurando as melhores opções de backup para seu CMS específico.</p>

<h3>Verificar o arquivo .htaccess (2 etapas)</h3>

<p>A invasão com conteúdo sem sentido redireciona os visitantes do site com o arquivo .htaccess.</p>

<p><b>Etapa 1</b></p>
<p>Localize o arquivo .htaccess no site. Se você não tiver certeza de onde encontrá-lo e estiver usando um CMS, como WordPress, Joomla ou Drupal, pesquise "local do arquivo .htaccess" em um mecanismo de pesquisa junto com o nome do CMS. Dependendo do site, você encontrará vários arquivos .htaccess.
  Faça uma lista com todos os locais dos arquivos .htaccess.</p>

<p><strong>Observação:</strong> muitas vezes, o .htaccess é um "arquivo oculto". Ative a exibição de arquivos ocultos ao procurar por ele.</p>

<p><b>Etapa 2</b></p>
<p>Substitua todos os arquivos .htaccess por uma versão limpa ou padrão. Normalmente, é possível encontrar uma versão padrão do arquivo .htaccess pesquisando por "arquivo .htaccess padrão" e o nome do CMS. Para sites com vários arquivos .htaccess, encontre a versão limpa de cada um deles e faça a substituição.</p>

<p>Se não houver um .htaccess padrão e você nunca tiver configurado um arquivo .htaccess no site, o arquivo .htaccess que você encontrar no site provavelmente será malicioso. Por segurança, salve uma cópia off-line dos arquivos .htaccess e exclua-os do site.</p>

<h3>Localizar e remover outros arquivos maliciosos (5 etapas)</h3>

<p>Identificar arquivos maliciosos pode ser complicado e demorar várias horas. Leve o tempo que precisar para verificar os arquivos. Este é um bom momento para fazer backup dos arquivos do site, caso ainda não tenha feito. Pesquise no Google "backup de site" e o nome do CMS para encontrar instruções sobre como fazer isso.</p>

<p><b>Etapa 1</b></p>
<p>Se você usar um CMS, reinstale todos os arquivos principais (padrão) que vêm na distribuição padrão do CMS, além de tudo o que você tiver adicionado (como temas, módulos e plug-ins). Isso ajuda a garantir que esses arquivos não tenham conteúdo invadido. Pesquise no Google "reinstalar" e o nome do CMS para encontrar instruções sobre o processo de reinstalação. Se você tiver plug-ins, módulos, extensões ou temas, reinstale-os também.</p>

<p>A reinstalação dos arquivos principais pode fazer com que você perca as personalizações feitas. Faça backup do seu banco de dados e de todos os arquivos antes da reinstalação.</p>

<p><b>Etapa 2</b></p>
<p>Agora é necessário procurar outros arquivos maliciosos ou comprometidos. Essa é a parte mais difícil e demorada do processo, mas ao final, já estará quase tudo pronto.</p>

<p>Essa invasão normalmente deixa dois tipos de arquivos: txt e php. Os .txt são arquivos de modelo e os .php determinam o tipo de conteúdo sem sentido que será carregado para o site. Comece procurando os arquivos .txt. Dependendo de como você se conecta ao site, verá algum tipo de funcionalidade de pesquisa de arquivos. Pesquise ".txt" para abrir todos os arquivos com essa extensão. A maioria desses arquivos de texto é legítima, como acordos de licença, arquivos "leia-me", dentre outros. Você precisa encontrar um determinado conjunto de arquivos .txt que contêm código HTML usado para criar modelos com spam. Veja abaixo snippets de diferentes partes de código que podem ser encontrados nesses arquivos .txt maliciosos.</p><p>

</p><p>Os hackers substituem palavras-chave para criar páginas com spam. Você provavelmente verá algum tipo de palavra genérica que será substituída em todo o arquivo invadido.</p>

<pre class="notranslate l10n-notranslate prettyprint">
  &lt;title&gt;{keyword}&lt;/title&gt;
  &lt;meta name="description" content="{keyword}" /&gt;
  &lt;meta name="keywords" content="{keyword}" /&gt;
  &lt;meta property="og:title" content="{keyword}" /&gt;
</pre>

<p>Além disso, a maioria desses arquivos contém algum tipo de código que coloca links e texto com spam na página visível.</p>

<pre class="notranslate l10n-notranslate prettyprint">
  &lt;div style="position: absolute; top: -1000px; left: -1000px;"&gt;
  Cheap prescription drugs
  &lt;/div&gt;
</pre>

<p>Remova esses arquivos .txt. Se eles estiverem todos na mesma pasta, será possível remover a pasta inteira.</p>

<p><b>Etapa 3</b></p>
<p>Os arquivos PHP maliciosos são um pouco mais difíceis de encontrar. Pode haver um ou vários arquivos PHP maliciosos no site. Eles podem estar todos no mesmo subdiretório ou espalhados pelo site.</p>

<p>Não se preocupe achando que vai precisar abrir e examinar todos os arquivos PHP. Comece criando uma lista de arquivos PHP suspeitos que você quer investigar. Veja algumas maneiras de determinar quais arquivos PHP são suspeitos:</p>

<ul>
<li>Como você já atualizou os arquivos do CMS, verifique somente os arquivos que não fazem parte dos arquivos ou pastas padrão do CMS. Isso eliminará um grande número de arquivos PHP e deixará você com menos arquivos a serem examinados.</li>
<li>Classifique os arquivos do site pela data da última modificação. Procure arquivos que foram modificados nos meses anteriores ao momento em que você descobriu pela primeira vez que o site foi invadido.</li>
<li>Classifique os arquivos do site por tamanho. Procure os arquivos muito grandes.</li>
</ul>

<p><b>Etapa 4</b></p>
<p>Depois de fazer uma lista de arquivos PHP suspeitos, verifique se eles são normais ou maliciosos. Se você não estiver familiarizado com PHP, esse processo pode ser mais demorado. Por isso, recomendamos consultar a <a href="https://php.net/docs.php">documentação sobre o PHP</a>.  Contudo, mesmo que você seja totalmente leigo em codificação, existem alguns padrões básicos que você pode procurar para identificar arquivos maliciosos.</p>

<p>Primeiro, analise os arquivos suspeitos já identificados para procurar blocos grandes de texto com uma combinação de letras e números aparentemente sem sentido. Em geral, o bloco grande de texto é precedido por uma combinação de funções PHP como base64_decode, rot13, eval, strrev, gzinflate. Veja abaixo um exemplo desse bloco de código. Muitas vezes, todo esse código está em uma linha longa de texto, o que faz com que ele pareça menor do que realmente é:</p>

<p></p>

<pre class="notranslate l10n-notranslate prettyprint">
&lt;!--Hackers try to confuse webmasters by encoding malicious code into blocks
of texts. Be wary of unfamiliar code blocks like this.--&gt;

base64_decode(strrev("hMXZpRXaslmYhJXZuxWd2BSZ0l2cgknbhByZul2czVmckRWYgknYgM3ajFGd0FGIlJXd0VnZgk
nbhBSbvJnZgUGdpNHIyV3b5BSZyV3YlNHIvRHI0V2Zy9mZgQ3Ju9GRg4SZ0l2cgIXdvlHI4lmZg4WYjBSdvlHIsU2chVmcnBydv
JGblBiZvBCdpJGIhBCZuFGIl1Wa0BCa0l2dgQXdCBiLkJXYoBSZiBibhNGIlR2bjBycphGdgcmbpRXYjNXdmJ2blRGI5xWZ0Fmb
1RncvZmbVBiLn5WauVGcwFGagM3J0FGa3BCZuFGdzJXZk5Wdg8GdgU3b5BicvZGI0xWdjlmZmlGZgQXagU2ah1GIvRHIzlGa0B
SZrlGbgUGZvNGIlRWaoByb0BSZrlGbgMnclt2YhhEIuUGZvNGIlxmYhRWYlJnb1BychByZulGZhJXZ1F3ch1GIlR2bjBCZlRXY
jNXdmJ2bgMXdvl2YpxWYtBiZvBSZjVWawBSYgMXagMXaoRFIskGS"));
</pre>


<p>Às vezes, o código não está desorganizado e parece um script normal. Caso você não tenha certeza se o código está ou não corrompido, acesse os <a href="http://productforums.google.com/forum/#    !forum/webmasters" l10n-encrypted-href="eFqttkEJXOrPtYqL1dS4hMlzk68vmg1gLAq//4NlIesuA+SSwS44WzEss142F1VLcbCLWvVm2pEwqt29pdWwH6rz+M3RfOj6o9TWwqB6UaE=">Fóruns de Ajuda para webmasters</a>, onde um grupo de webmasters experientes poderá ajudá-lo a examinar os arquivos.</p>

<p><b>Etapa 5</b></p>
<p>Agora que você sabe quais arquivos são suspeitos, crie um backup ou uma cópia local e salve os dados no seu computador, no caso de os arquivos não serem maliciosos, e exclua os arquivos suspeitos.</p>

<h3>Verificar se o site está limpo</h3>

<p>Depois de remover os arquivos invadidos, verifique se o trabalho valeu a pena. Você se lembra das páginas sem sentido identificadas anteriormente? Use a ferramenta Fetch as Google novamente para ver se elas ainda existem. Se a resposta do Fetch as Google for "Não encontrado", é provável que o site esteja em boas condições.</p>

<p>Também é possível seguir as etapas no <a href="https://support.google.com/webmasters/troubleshooter/6155978" l10n-encrypted-href="L9cotzWz1Gz2EXZ4cybZUF8/1IcWIMZShUywi8+OFhFaf4PNa8lHkLSIkkiloXraU+YkdKmDgr9qSLhT4Aj5jg==">Solucionador de problemas para sites invadidos</a> para verificar se ainda há conteúdo invadido no site.</p>

<h3>Como evitar ser invadido novamente?</h3>

<p>A correção de vulnerabilidades é uma etapa final essencial para a correção do site. Um estudo recente descobriu que 20% dos sites invadidos são invadidos novamente dentro de um dia. É importante saber exatamente como o site foi invadido. Leia o guia <a href="/web/fundamentals/security/hacked/top_ways_websites_get_hacked_by_spammers">Formas mais comuns de invasão de websites por criadores de spam</a> para começar sua investigação. No entanto, se você não conseguir descobrir como seu site foi invadido, veja abaixo uma lista de verificação de medidas que você pode tomar para reduzir as vulnerabilidades do site.</p>

<ul>
  <li><strong>Faça uma varredura regularmente no seu computador:</strong> use um programa antivírus confiável para verificar a presença vírus ou vulnerabilidades.</li>
<li><strong>Troque suas senhas regularmente:</strong> trocar regularmente as senhas de todas as contas do seu website, como a senha do provedor de hospedagem, do FTP e do CMS, pode impedir o acesso não autorizado ao site. É importante criar uma senha forte e exclusiva para cada conta.</li>
<li><strong>Use a <a href="https://en.wikipedia.org/wiki/Two-factor_authentication" l10n-encrypted-href="9xQhRBOSn9SmNcpVG2sojwOrZfK8qSBsW73e1nANJzDifCX+gGFDlLulOI0L7gbBir3zffj4Scth1kJJ0GCu7g==">autenticação de dois fatores (2FA)</a>:</strong> recomendamos a ativação da 2FA em todos os serviços que exijam login. A 2FA dificulta o login de hackers, mesmo que eles roubem sua senha.</li>
<li><strong>Atualize regularmente o CMS, plug-ins, extensões e módulos:</strong> se tudo estiver certo, você já deve ter feito esta etapa. Muitos sites são invadidos por causa de um software desatualizado sendo executado no site. Alguns CMSs são compatíveis com a atualização automática.</li>
<li><strong>Considere se inscrever em um serviço de segurança para monitorar o site:</strong> há muitos serviços excelentes que podem ajudar você no monitoramento do site por uma pequena taxa.
  Recomendamos que você faça registro em um deles para manter o site seguro.</li>
</ul>

<a name="resources"></a>
<h2>Outros recursos</h2>
<p>Se você ainda estiver com problemas para corrigir o site, há mais alguns recursos que podem ajudá-lo.</p>

<p>Estas ferramentas fazem a varredura do site e podem encontrar conteúdos problemáticos. O Google não desenvolve nem oferece suporte para essas ferramentas, a não ser a VirusTotal.</p>

<p><a href="https://www.virustotal.com/" l10n-encrypted-href="+yh4nIlcln/5B9bKgkfEGM782VG+rd3m0a4VL0AU26M=">Virus Total</a>, <a href="https://aw-snap.info/">Aw-snap.info</a>, <a href="https://sitecheck.sucuri.net/" l10n-encrypted-href="onZPCmFW+G106sKkIlw02x6VPeWQ/7qXNFWdb9FQ4feq8/jN0Xzo+qPU1sKgelGh">Sucuri Site Check</a>, <a href="https://www.quttera.com/">Quttera</a>: são algumas ferramentas que podem fazer a varredura do site em busca de conteúdos problemáticos. Esses scanners não garantem a identificação de todos os tipos de conteúdo problemático.</p>

<p>Veja outros recursos do Google que podem ajudar você:</p>

<ul>
<li><a href="//support.google.com/webmasters/go/community" l10n-encrypted-href="+MnmPhXLuMxD2VLFLngQ0KArGd6SuOrIdKNhJ8TAfI9k4yrci9ag38FePALAXcE0">Fórum de Ajuda para webmasters do Google
  </a></li>
<li><a href="/web/fundamentals/security/hacked/">Ajuda para webmasters do Google para sites invadidos</a></li>
<li><a href="//safebrowsing.google.com/" l10n-encrypted-href="1ZOZ2H6Eo250Va95oXrumTbQA6KByQU0uWZ6m4BBYCY=">Google SafeBrowsing</a></li>
</ul>

<div class="alert">Não encontra nenhuma ferramenta que pode ser útil? <a href="https://docs.google.com/a  /google.com/forms/d/12iF45BaZuEgwn29A7DOW73rd1Hi_7NiAHCFWB3zMu0U/viewform" l10n-encrypted-href="voYeKygemXxQpSsj4TC5AZV1HFx+9thIM0C4UiCOHzc03KC6nJ7AyWMICIX6+KL/rhrEkO/djoguK4tnJcrqXJ+wsE+tFKLdRQjytTrchinkpeA/GFKTKj/6rHbJmOv3qwUI9b2ZthvPFzCvc6kgQQ==">Dê seu feedback</a> e nos avise.</div>



</body></html>
