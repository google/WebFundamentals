project_path: /web/site-kit/_project.yaml
landing_page:
  rows:
  - heading: Get Credentials for Site Kit
    items:
    - custom_html: >
      <div id="site-kit-setup">
        {% dynamic if request.query_string.sitename %}
          {% dynamic setvar projectName %}{% dynamic print request.query_string.sitename|escape %}{% dynamic endsetvar %}
        {% dynamic endif %}
        {% dynamic if request.query_string.siteurl %}
          {% dynamic setvar productName %}Site Kit on {% dynamic print request.query_string.siteurl|escape %}{% dynamic endsetvar %}
          {% dynamic setvar redirectURI %}{% dynamic print request.query_string.siteurl|escape %}?oauth2callback=1{% dynamic endsetvar %}
        {% dynamic endif %}
        <ol>
          {% dynamic if user.signed_in and setvar.projectName and setvar.productName and setvar.redirectURI %}
          <li>
            Confirm that the below values apply to your WordPress site:
            <dl class="dl-fields">
              <dt><span class="dl-field-name">Project Name:</span> <span id="site-kit-setup-project-name" class="dl-field-value">{% dynamic print setvar.projectName|escape%}</span></dt>
              <dd class="dl-field-description">The title of your new Google Cloud Platform project.</dd>
              <dt><span class="dl-field-name">Application Name:</span> <span id="site-kit-setup-product-name" class="dl-field-value">{% dynamic print setvar.productName|escape%}</span></dt>
              <dd class="dl-field-description">The name of the app asking for consent, as publicly displayed to authenticating users.</dd>
              <dt><span class="dl-field-name">Support Email:</span> <span id="site-kit-setup-support-email" class="dl-field-value">{% dynamic print user.email%}</span></dt>
              <dd class="dl-field-description">The email address shown on the consent screen for user support.</dd>
              <dt><span class="dl-field-name">Redirect URI:</span> <span id="site-kit-setup-redirect-uri" class="dl-field-value">{% dynamic print setvar.redirectURI|escape%}</span></dt>
              <dd class="dl-field-description">The URI to redirect to after an authenticating user has granted consent.</dd>
            </dl>
          </li>
          {% dynamic endif %}
          <li>
            Click the button below to create a new Google Cloud Platform project for your WordPress site. By clicking the button, you are confirming that your site is running the official <a href="https://sitekit.withgoogle.com" target="_blank">Site Kit plugin for WordPress</a>.
          </li>
          <li>
            Once the project has been created, you will see a client ID and secret. You must copy both of these values into the corresponding fields in your Site Kit plugin, open in the other browser tab.
          </li>
        </ol>
        <p>
          <a id="site-kit-setup-button" tabindex="0" class="devsite-api-getstarted-widget button button-primary button-large"
           data-henhouse-header-text="Site Kit: Get OAuth Credentials"
           data-henhouse-header-logo-url="https://www.gstatic.com/images/branding/product/1x/googleg_64dp.png"
           data-henhouse-use-updated-header="true"
           data-api-id="servicemanagement.googleapis.com"
           data-henhouse-extra-api-ids="adsense.googleapis.com,analytics.googleapis.com,analyticsreporting.googleapis.com,lighthouse.googleapis.com,pagespeedonline.googleapis.com,siteverification.googleapis.com,tagmanager.googleapis.com,webmasters.googleapis.com"
           data-henhouse-credential-type="OAUTH"
           data-henhouse-client-type="WEB_SERVER"
           {% dynamic if user.signed_in and setvar.projectName and setvar.productName and setvar.redirectURI %}
             data-henhouse-project-name="{% dynamic print setvar.projectName|escape %}"
             data-henhouse-product-name="{% dynamic print setvar.productName|escape %}"
             data-henhouse-oauth-redirect-uri="{% dynamic print setvar.redirectURI|escape %}"
             data-henhouse-create-new-project-by-default="true"
           {% dynamic endif %}
          >
            Get OAuth Credentials
          </a>
        </p>
        <style>
          .devsite-landing-page .devsite-article {
            margin: 0 auto;
            max-width: 800px;
          }
          .dl-fields dt,
          .dl-fields dd {
            margin: 8px 0;
          }
          .dl-field-name {
            display: inline-block;
            min-width: 140px;
            margin-right: 15px;
          }
          .dl-field-value {
            display: inline-block;
            font-weight: 400;
          }
          .dl-field-description {
            font-size: 14px;
            font-style: italic;
          }
          .button-large {
            height: 52px;
            padding: 16px 36px;
          }
        </style>
      </div>
