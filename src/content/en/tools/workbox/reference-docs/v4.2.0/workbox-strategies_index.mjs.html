<!DOCTYPE html>
<html devsite>

<head>
  <meta name="project_path" value="/web/tools/workbox/_project.yaml" />
  <meta name="book_path" value="/web/tools/workbox/_book.yaml" />
  <meta name="gtm_var" data-key="docType" data-value="reference">
  <title>Source: workbox-strategies/index.mjs</title>
  <link href="jsdoc.css" rel="stylesheet">
</head>

<body>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: workbox-strategies/index.mjs</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>/*
  Copyright 2018 Google LLC

  Use of this source code is governed by an MIT-style
  license that can be found in the LICENSE file or at
  https://opensource.org/licenses/MIT.
*/

import {logger} from &#x27;workbox-core/_private/logger.mjs&#x27;;
import {CacheFirst} from &#x27;./CacheFirst.mjs&#x27;;
import {CacheOnly} from &#x27;./CacheOnly.mjs&#x27;;
import {NetworkFirst} from &#x27;./NetworkFirst.mjs&#x27;;
import {NetworkOnly} from &#x27;./NetworkOnly.mjs&#x27;;
import {StaleWhileRevalidate} from &#x27;./StaleWhileRevalidate.mjs&#x27;;
import &#x27;./_version.mjs&#x27;;


const mapping &#x3D; {
  cacheFirst: CacheFirst,
  cacheOnly: CacheOnly,
  networkFirst: NetworkFirst,
  networkOnly: NetworkOnly,
  staleWhileRevalidate: StaleWhileRevalidate,
};

const deprecate &#x3D; (strategy) &#x3D;&gt; {
  const StrategyCtr &#x3D; mapping[strategy];

  return (options) &#x3D;&gt; {
    if (process.env.NODE_ENV !&#x3D;&#x3D; &#x27;production&#x27;) {
      const strategyCtrName &#x3D; strategy[0].toUpperCase() + strategy.slice(1);
      logger.warn(&#x60;The &#x27;workbox.strategies.${strategy}()&#x27; function has been &#x60; +
          &#x60;deprecated and will be removed in a future version of Workbox.\n&#x60; +
          &#x60;Please use &#x27;new workbox.strategies.${strategyCtrName}()&#x27; instead.&#x60;);
    }
    return new StrategyCtr(options);
  };
};

/**
 * @function workbox.strategies.cacheFirst
 * @param {Object} options See the {@link workbox.strategies.CacheFirst}
 * constructor for more info.
 * @deprecated since v4.0.0
 */
const cacheFirst &#x3D; deprecate(&#x27;cacheFirst&#x27;);

/**
 * @function workbox.strategies.cacheOnly
 * @param {Object} options See the {@link workbox.strategies.CacheOnly}
 * constructor for more info.
 * @deprecated since v4.0.0
 */
const cacheOnly &#x3D; deprecate(&#x27;cacheOnly&#x27;);

/**
 * @function workbox.strategies.networkFirst
 * @param {Object} options See the {@link workbox.strategies.NetworkFirst}
 * constructor for more info.
 * @deprecated since v4.0.0
 */
const networkFirst &#x3D; deprecate(&#x27;networkFirst&#x27;);

/**
 * @function workbox.strategies.networkOnly
 * @param {Object} options See the {@link workbox.strategies.NetworkOnly}
 * constructor for more info.
 * @deprecated since v4.0.0
 */
const networkOnly &#x3D; deprecate(&#x27;networkOnly&#x27;);

/**
 * @function workbox.strategies.staleWhileRevalidate
 * @param {Object} options See the
 * {@link workbox.strategies.StaleWhileRevalidate} constructor for more info.
 * @deprecated since v4.0.0
 */
const staleWhileRevalidate &#x3D; deprecate(&#x27;staleWhileRevalidate&#x27;);

/**
 * There are common caching strategies that most service workers will need
 * and use. This module provides simple implementations of these strategies.
 *
 * @namespace workbox.strategies
 */

export {
  CacheFirst,
  CacheOnly,
  NetworkFirst,
  NetworkOnly,
  StaleWhileRevalidate,

  // Deprecated...
  cacheFirst,
  cacheOnly,
  networkFirst,
  networkOnly,
  staleWhileRevalidate,
};

</code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
</body>

</html>