---
layout: article
title: "استخدام استعلامات وسائط CSS للحصول على سرعة استجابة"
description: "لم تتم تهيئة معظم محتوى الويب للعمل على هذه التجارب متعددة الأجهزة. إلا أنه يمكنك التعرف على أساسيات تصميم موقع ويب يمكنه العمل على أجهزة الجوّال وسطح المكتب وأي جهاز آخر يتضمن شاشة."
introduction: "تعد استعلامات الوسائط فلاتر بسيطة يمكن تطبيقها على أنماط CSS.  وتساعد هذه الاستعلامات في تسهيل إمكانية تغيير الأنماط بناءً على سمات الجهاز الذي يعرض المحتوى، بما في ذلك نوع الشاشة والعرض والطول والاتجاه والدقة."
article:
  written_on: 2014-04-30
  updated_on: 2014-09-12
  order: 3
authors:
  - petelepage
collection: rwd-fundamentals
key-takeaways:
  set-viewport:
    - يمكنك استخدام علامة meta viewport للتحكم في العرض وضبط إطار عرض المتصفحات.
    - ضمِّن <code>width=device-width</code> لمطابقة عرض الشاشة بوحدات بكسل المستقلة للجهاز.
    - ضمِّن <code>initial-scale=1</code> لإنشاء علاقة من طرف لطرف بين وحدات بكسل CSS ووحدات بكسل المستقلة للجهاز.
    - تأكد من أنه يمكن الوصول إلى الصفحة من خلال عدم تعطيل ضبط المستخدم.
  size-content-to-vp:
    - لا تستخدم عناصر عرض ثابتة وكبيرة.
    - يجب ألا يعتمد المحتوى على عرض معين لإطار العرض حتى يتم عرضه جيدًا.
    - استخدم طلبات بحث وسائط CSS لتطبيق تنسيقات مختلفة للشاشات الصغيرة والكبيرة.
  media-queries:
    - يمكن استخدام طلبات بحث الوسائط لتطبيق الأنماط بناءً على سمات الجهاز.
    - استخدم <code>min-width</code> على <code>min-device-width</code> للتأكد من تجربة البحث.
    - استخدم الأحجام النسبية للعناصر لتجنب حدوث أعطال في التنسيق.
  choose-breakpoints:
    - أنشئ نقاط الفصل بناءً على المحتوى، وليس بناءً على أجهزة أو منتجات أو علامات تجارية محددة.
    - ابدأ التصميم لأجهزة الجوّال الأصغر أولاً، ثم حسِّن التجربة شيئًا فشيئًا عند توفر مزيد من الشاشات.
    - حافظ على عدم تجاوز أسطر النصوص 70 أو 80 حرفًا كحد أقصى.
remember:
  use-commas:
    - استخدم فاصلة لفصل السمات لضمان تمكن المتصفحات القديمة من تحليل السمات تحليلاً سليمًا.
---
{% wrap content %}

<style>
  .smaller-img {
    width: 60%;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  img.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  video.responsiveVideo {
    width: 100%;
  }
</style>


{% include modules/toc.liquid %}

{% include modules/takeaway.liquid list=page.key-takeaways.media-queries %}


على سبيل المثال، يمكنك وضع جميع الأنماط اللازمة للطباعة داخل استعلام وسيط طباعة:

{% highlight html %}
<link rel="stylesheet" href="print.css" media="print">
{% endhighlight %}

بالإضافة إلى استخدام السمة `media` في رابط ورقة الأنماط، هناك طريقتان لتطبيق طلبات الوسائط التي يمكن تضمينها في ملف CSS وهما: `@media` و`@import`.  لأغراض الأداء، يوصى باستخدام أي من الطريقتين الأوليين بدلاً من البنية `@import` (راجع [تجنب عمليات استيراد CSS]({{site.fundamentals}}/performance/critical-rendering-path/page-speed-rules-and-recommendations.html)).

{% highlight css %}
@media print {
  /* print style sheets go here */
}

@import url(print.css) print;
{% endhighlight %}

ولا يعد المنطق الذي يسري على طلبات بحث الوسائط حصريًا بشكل متبادل وسيتم تطبيق أي فلتر يلبي المعايير لمجموعة CSS الناتجة باستخدام القواعد القياسية للأولوية في CSS.

## تطبيق طلبات الوسائط بناءً على حجم إطار العرض

تمكننا طلبات الوسائط من ترك انطباع بسرعة الاستجابة، حيث يتم تطبيق أنماط معينة على الشاشات الصغيرة والشاشات الكبيرة وأية شاشة بين ذلك.  وتتيح بنية استعلام الوسائط إنشاء قواعد يمكن تطبيقها بناءً على سمات الجهاز.

{% highlight css %}
@media (query) {
  /* CSS Rules used when query matches */
}
{% endhighlight %}

وعلى الرغم من أن هناك عدة عناصر مختلفة يمكننا الاستعلام عنها، فإن العناصر المستخدمة كثيرًا لتصميم الويب سريع الاستجابة هي `min-width` و`max-width` و`min-height` و`max-height`.


<table class="table-2">
  <colgroup>
    <col span="1">
    <col span="1">
  </colgroup>
  <thead>
    <tr>
      <th data-th="السمة">السمة</th>
      <th data-th="النتيجة">النتيجة</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="attribute"><code>min-width</code></td>
      <td data-th="النتيجة">القواعد المطبقة في أية قيمة عرض متصفح فوق القيمة المحددة في الاستعلام.</td>
    </tr>
    <tr>
      <td data-th="السمة"><code>max-width</code></td>
      <td data-th="النتيجة">القواعد المطبقة في أية قيمة عرض متصفح أدنى من القيمة المحددة في الاستعلام.</td>
    </tr>
    <tr>
      <td data-th="السمة"><code>min-height</code></td>
      <td data-th="النتيجة">القواعد المطبقة في أية قيمة طول متصفح فوق القيمة المحددة في الاستعلام.</td>
    </tr>
    <tr>
      <td data-th="السمة"><code>max-height</code></td>
      <td data-th="النتيجة">القواعد المطبقة في أية قيمة طول متصفح أدنى من القيمة المحددة في الاستعلام.</td>
    </tr>
    <tr>
      <td data-th="السمة"><code>orientation=portrait</code></td>
      <td data-th="النتيجة">القواعد المطبقة لأي متصفح تكون قيمة الطول فيه أعلى من العرض أو تساويها.</td>
    </tr>
    <tr>
      <td data-th="السمة"><code>orientation=landscape</code></td>
      <td data-th="النتيجة">القواعد المستخدمة مع أي متصفح تكون فيه قيمة العرض أعلى من الطول.</td>
    </tr>
  </tbody>
</table>

في ما يلي مثال على ذلك:

<figure>
  {% link_sample _code/media-queries.html %}
    <img src="imgs/mq.png" class="center" srcset="imgs/mq.png 1x, imgs/mq-2x.png 2x" alt="عاين إحدى الصفحات باستخدام استعلامات الوسائط لتغيير الخصائص عند إعادة ضبط حجمها.">
  {% endlink_sample %}
</figure>

{% include_code _code/media-queries.html mqueries %}

* عندما تكون قيمة عرض المتصفح بين <b>0 بكسل</b> و <b>640 بكسل</b>، سيتم تطبيق `max-640px.css`.
* عندما تكون قيمة عرض المتصفح بين <b>500 بكسل</b> و <b>600 بكسل</b>، سيتم تطبيق الأنماط داخل`@media`.
* عندما تكون قيمة المتصفح <b>640 بكسل أو أوسع</b>، سيتم تطبيق `min-640px.css`.
* عندما يكون عرض المتصفح <b>أكبر من الطول</b>، سيتم تطبيق `landscape.css`.
* عندما يكون طول المتصفح <b>أكبر من العرض</b>، سيتم تطبيق `portrait.css`.


## ملاحظة حول `min-device-width`

يمكنك كذلك إنشاء استعلامات بناءً على `*-device-width`، ولكن يوصى بأهمية **الابتعاد عن ذلك**.

الفرق بسيط ولكنه يمثل أهمية كبيرة: يعتمد `min-width` على حجم نافذة المتصفح، بينما يعتمد `min-device-width` على حجم الشاشة.  للأسف، بعض المتصفحات، بما في ذلك متصفح Android القديم، قد لا تتمكن من الإبلاغ عن عرض الجهاز على نحو سليم، وبدلاً من ذلك تبلغ عن حجم الشاشة بوحدات بكسل على الجهاز وليس بقيمة عرض إطار العرض المتوقعة.

علاوة على ذلك، يمكن أن يحول استخدام `*-device-width` دون انضباط المحتوى على أجهزة سطح المكتب أو الأجهزة الأخرى التي تتيح تغيير حجم النوافذ نظرًا لأن الاستعلام يعتمد على الحجم الفعلي للجهاز، وليس حجم نافذة المتصفح.

## استخدام وحدات نسبية

من المفاهيم الأساسية للتصميم سريع الاستجابة مفهوم الانسيابية والتناسبية على العكس من تنسيقات العرض الثابتة.  ويمكن أن يساعد استخدام وحدات نسبية في القياس على تبسيط التنسيقات ومنع إنشاء مكونات بدون قصد تكون كبيرة على إطار العرض.

على سبيل المثال، يضمن تعيين العرض على قيمة 100% على مستوى div علوي أنه سيتم تدوير قيمة عرض الإطار ولن يكون كبيرًا أو صغيرًا جدًا على إطار العرض.  سيكون div مناسبًا، بغض النظر عما إذا كان الاتساع بقيمة 320 بكسل لجهاز iPhone، أو كان بقيمة 342 بكسل لجهاز Blackberry Z10 أو كان بقيمة 360 بكسل لجهاز Nexus 5.

علاوة على ذلك، يتيح استخدام الوحدات النسبية للمتصفحات عرض المحتوى بناءً على مستوى التكبير/التصغير المستخدم بدون الحاجة إلى إضافة أشرطة تمرير أفقية إلى الصفحة.

<div class="clear">
  <div class="g--half">
    <h2 class="text-danger text-center">NO</h2>
{% highlight css %}div.fullWidth {
  width: 320px;
  margin-left: auto;
  margin-right: auto;
}{% endhighlight %}
  </div>

  <div class="g--half g--last">
    <h2 class="text-success text-center">YES</h2>
{% highlight css %}div.fullWidth {
  width: 100%;
}{% endhighlight %}
  </div>
</div>

{% include modules/nextarticle.liquid %}

{% endwrap %}

