---
layout: section
title: "Оптимизация контента"
description: "Объем скачиваемых приложениями данных постоянно растет. Чтобы их производительность оставалась высокой, нужно оптимизировать каждый байт."
introduction: "У веб-приложений появляется все больше возможностей, задач и функций. Однако чем разнообразнее контент, тем больше данных приходится скачивать. Чтобы производительность приложений оставалась высокой, нужно стараться оптимизировать каждый байт."
article:
  written_on: 2014-04-01
  updated_on: 2014-04-29
  order: 2
id: optimizing-content-efficiency
authors:
  - ilyagrigorik
collection: performance
---

{% wrap content%}

<style>
  img, video, object {
    max-width: 100%;
  }

  img.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
</style>

На что похоже современное приложение? Ответ на этот вопрос может дать [HTTP Archive](http://httparchive.org/). Этот проект отслеживает, из чего состоит Интернет, периодически сканируя самые популярные сайты (более 300 000 из списка Alexa Top 1M), а после запоминая и объединяя аналитические материалы о количестве ресурсов, типах контента и других метаданных для каждого сайта.

<img src="images/http-archive-trends.png" class="center" alt="Тенденции HTTP Archive">

<table class="table-4">
<colgroup><col span="1"><col span="1"><col span="1"><col span="1"></colgroup>
<thead>
  <tr>
    <th></th>
    <th>50-й персентиль</th>
    <th>75-й персентиль</th>
    <th>90-й персентиль</th>
  </tr>
</thead>
<tr>
  <td data-th="тип">HTML</td>
  <td data-th="50%">13 КБ</td>
  <td data-th="75%">26 КБ</td>
  <td data-th="90%">54 КБ</td>
</tr>
<tr>
  <td data-th="тип">Изображения</td>
  <td data-th="50%">528 КБ</td>
  <td data-th="75%">1213 КБ</td>
  <td data-th="90%">2384 КБ</td>
</tr>
<tr>
  <td data-th="тип">JavaScript</td>
  <td data-th="50%">207 КБ</td>
  <td data-th="75%">385 КБ</td>
  <td data-th="90%">587 КБ</td>
</tr>
<tr>
  <td data-th="тип">CSS</td>
  <td data-th="50%">24 КБ</td>
  <td data-th="75%">53 КБ</td>
  <td data-th="90%">108 КБ</td>
</tr>
<tr>
  <td data-th="тип">Другое</td>
  <td data-th="50%">282 КБ</td>
  <td data-th="75%">308 КБ</td>
  <td data-th="90%">353 КБ</td>
</tr>
<tr>
  <td data-th="тип"><strong>Всего</strong></td>
  <td data-th="50%"><strong>1054 КБ</strong></td>
  <td data-th="75%"><strong>1985 КБ</strong></td>
  <td data-th="90%"><strong>3486 КБ</strong></td>
</tr>
</table>

Данные выше показывают тенденцию к увеличению числа скачиваемых байтов для популярных сайтов между январем 2013 и 2014 годов. Конечно, на всех сайтах увеличение происходит с разной скоростью и в разном объеме, поэтому мы выделяем несколько квантилей в классификации: квантили 0,5 (медиана), 0,75 и 0,9.

В начале 2014 года на среднестатистический сайт отправлялось около 75 запросов, которые в сумме составляли переданных 1054 КБ. Общее количество байтов (и запросов) постоянно росло в течение предыдущего года. Само по себе это неудивительно, но отражает важные изменения в производительности сайтов. Скорость интернет-соединений увеличивается, но в разных странах по-разному. Кроме того, у многих пользователей до сих пор установлены ограничения на объем скачиваемых данных и дорогие тарифные планы, особенно на мобильных устройствах.

Интернет-приложения, в отличие от компьютерных, не требуют установки. Нужно просто ввести ссылку и приступить к работе — это ключевое свойство Сети. Однако в этом случае **нам приходится скачивать десятки, а иногда и сотни различных ресурсов, которые весят мегабайты и скачивание которых занимает сотни миллисекунд. И все этого для того, чтобы сайт мог мгновенно отвечать на запросы пользователя.**

Учитывая все эти условия, поддерживать высокую производительность достаточно сложно. Именно поэтому нам необходима оптимизация контента: удаление ненужных ресурсов, их сжатие при передаче и кеширование.

{% endwrap %}

